(()=>{"use strict";var e={776:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getWinners=t.removeWinner=t.updateWinner=t.getWinner=t.createWinner=t.updateCar=t.removeCar=t.createCar=t.drive=t.stopEngine=t.startEngine=t.getCar=t.getCars=void 0;const a="http://localhost:3000",n=`${a}/garage`,r=`${a}/engine`,o=`${a}/winners`;t.getCars=async(e,t=7)=>{const a=await fetch(`${n}?_page=${e}&_limit=${t}`);return{items:await a.json(),count:Number(a.headers.get("X-Total-Count"))}},t.getCar=async e=>await fetch(`${n}/${e}`).then((e=>e.json())),t.startEngine=async e=>await fetch(`${r}?id=${e}&status=started`,{method:"PATCH"}).then((e=>e.json())).then((e=>e)),t.stopEngine=async e=>await fetch(`${r}?id=${e}&status=stopped`,{method:"PATCH"}).then((e=>e.json())).then((e=>e)),t.drive=async e=>{const t=await fetch(`${r}?id=${e}&status=drive`,{method:"PATCH"}).then((e=>e)).catch();return 200!==t.status?{success:!1}:{...await t.json()}},t.createCar=async e=>{await fetch(`${n}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},t.removeCar=async e=>{await fetch(`${n}/${e}`,{method:"DELETE"})},t.updateCar=async(e,t)=>{await fetch(`${n}/${e}`,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},t.createWinner=async e=>{await fetch(`${o}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},t.getWinner=async e=>await fetch(`${o}/${e}`).then((e=>e.json())),t.updateWinner=async(e,t)=>{await fetch(`${o}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},t.removeWinner=async e=>{await fetch(`${o}/${e}`,{method:"DELETE"})},t.getWinners=async(e,t,a,n=10)=>{const r=await fetch(`${o}?_page=${e}&_limit=${n}&_order=${a}&_sort=${t}`);return{items:await r.json(),count:Number(r.headers.get("X-Total-Count"))}}},506:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderCarImage=void 0,t.renderCarImage=e=>`\n<svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="90px" height="90px" viewBox="0 0 1280.00000 640.000000" preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)" fill="${e}" stroke="none">\n<path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6 -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91 -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340 -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3 -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418 0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64 -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622 756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302 140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263 l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22 259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239 -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1 -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45 525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50 680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0 -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332 -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341 10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66 -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36 -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83 54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12 -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134 274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11 -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n<path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262 -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493 -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23 86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50 -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220 1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360 0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n<path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120 -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n<path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28 22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n<path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0 165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n<path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0 165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n<path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29 58 -13 0 -29 -8 -34 -18z"/>\n<path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57 9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n<path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16 -54 -2z"/>\n<path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67 -62 36z"/>\n<path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123 113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n<path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71 195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n<path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25 -70 0z"/>\n<path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7 0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223 232 -230 231 -3 0 -11 -3 -17 -6z"/>\n<path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24 -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118 380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86 -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96 33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176 238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207 81 364 77 109 -3 143 -7 210 -30z"/>\n<path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80 119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n<path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20 -163 84 -207 91 l-43 7 0 -162z"/>\n<path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0 165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n<path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45 -88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n<path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64 -10 68 -14 2 -31 -3 -38 -10z"/>\n<path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0 -44 -6 -64 -31z"/>\n<path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20 -54 2z"/>\n<path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13 -24 13 -3 0 -14 -6 -24 -13z"/>\n<path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120 109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n<path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177 79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n<path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43 -67 12z"/>\n<path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108 10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186 61 239 98 16 10 -216 242 -234 235z"/>\n</g>\n</svg>\n`},126:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.listen=t.render=t.renderGarage=void 0;const n=a(776),r=a(506),o=a(724);let c=null;localStorage.setItem("page","1");let s=Number(localStorage.getItem("page"));localStorage.setItem("times",JSON.stringify([])),localStorage.setItem("tablePage","1");let l=Number(localStorage.getItem("tablePage"));t.renderGarage=async()=>{s=Number(localStorage.getItem("page"));const e=(await(0,n.getCars)(s)).items,t=(await(0,n.getCars)(s)).count,a=Math.ceil((t||1)/7);return` ${e.length?`<h2>Garage ${t}</h2>\n    <h3>Page: ${s}</h3>\n    <div class="pagination">\n        <button class="pagination-btn prev-btn" ${1===s||0===t?"disabled":""} id="prev">prev</button>\n        <button class="pagination-btn next-btn" ${a===s?"disabled":""} id="next">next</button>\n    </div>\n    <ul class="garage">\n        ${e.map((e=>`\n            <li class="car-item">${(({id:e,name:t,color:a})=>`\n    <div class="car-buttons">\n        <button class="car-btn car-select-btn" id="select-car-${e}">Select</button>\n        <button class="car-btn car-remove-btn" id="remove-car-${e}">Remove</button>\n        <p class="car-title">${t}</p>\n    </div>\n    <div class="car-road">\n        <div class="car-wrapper">\n            <div class="car-control">\n                <button class="car-control-btn car-start-btn" id="car-start-${e}">A</button>\n                <button class="car-control-btn car-stop-btn" disabled id="car-stop-${e}">B</button>\n            </div>\n            <div class="car-full-road">\n                <div class="car" id="car-${e}">\n                    ${(0,r.renderCarImage)(a)}\n                </div>\n            </div>\n            <div class="flag">\n                <img src="./images/flag.png" class="flag-img" />\n            </div>\n            <div style="width: 100px"></div>\n        </div>\n    </div>\n`)(e)}</li>\n        `)).join("")}\n    </ul>`:'<p style="font-size: 24px; font-weight: 900; text-align: center">No cars in the garage.</p>'}\n    \n`};const i=async()=>{l=Number(localStorage.getItem("tablePage"));const e=localStorage.getItem("sort")||"",t=localStorage.getItem("order")||"ASC",a=await(await(0,n.getWinners)(l,e,t).then((e=>e))).items,o=await Promise.all(a.map((({id:e})=>(0,n.getCar)(e)))),c=(await(0,n.getWinners)(l)).count,i=Math.ceil((c||1)/10);return`\n        <div class="winner-container">\n            <h2 class="winner-title">Winners Table - ${c}</h2>\n            <p>Page: #${l}</p>\n            <div class="table-buttons">\n                <button class="prev-table" ${1===l||0===c?"disabled":""}>Prev</button>\n                <button class="next-table" ${i===s?"disabled":""}>Next</button>\n            </div>\n\n            ${a.length?`<table>\n            <thead>\n                <tr>\n                    <th class="id-sort">№</th>\n                    <th>Car</th>\n                    <th>Name</th>\n                    <th class="winner-sort">Wins</th>\n                    <th class="time-sort">Best Time</th>\n                </tr>\n            </thead>\n            <tbody>\n            ${o.map((e=>{const t=a.findIndex((t=>t.id===e.id));return`\n                        <tr>\n                            <td>${e.id}</td>\n                            <td>${(0,r.renderCarImage)(e.color)}</td>\n                            <td>${e.name}</td>\n                            <td>${a[t].wins}</td>\n                            <td>${a[t].time/1e3}s</td>\n                        </tr>\n                    `})).join("")}\n            </tbody>\n        </table>`:"No winners. You can return to race page and define winner!"}\n        </div>\n        \n    `};t.render=async()=>{(await(0,n.getCars)(s)).count;const e=`\n        \n    <header class="header">\n        <div>\n            <button class="header-btn garage-btn active" id="btnToGarage">Garage</button>\n            <button class="header-btn winners-btn" id="btnToWinners">Winners</button>\n        </div>\n    </header>\n\n        <div class="garage">\n            <div class="garage-control">\n                <div class="garage-container">\n                    <form class="form" id="create">\n                        <input class="input" id="create-name" name="name" type="text" placeholder="Car model" />\n                        <input class="color" id="create-color" name="color" type="color" value="#ffffff" />\n                        <button class="garage-btn create-btn" type="submit">Create</button>\n                    </form>\n                    <form class="form" id="update">\n                        <input class="input input-update" id="update-name" disabled name="name" type="text" placeholder="Car model" />\n                        <input class="color color-update" id="update-color" disabled name="color" type="color" value="#ffffff" />\n                        <button class="garage-btn update-btn" disabled type="submit">Update</button>\n                    </form>\n                </div>\n                <div class="control-panel">\n                    <button class="btn race-btn" id="race">Race</button>\n                    <button class="btn reset-btn" disabled id="reset">Reset</button>\n                    <button class="btn generate-btn" id="generate">Generate</button>\n                </div>\n            </div>\n            <div class="garage-cars">\n                ${await(0,t.renderGarage)()}\n            </div>\n            <div class="msg">\n                <div>\n                    <p class="message"></p>\n                    <button class="winner-reset">Take reset</button>\n                </div>\n            </div>\n        </div>\n        \n        \n        <div class="winners">\n            ${await i()}\n        </div>\n\n        <footer>\n            \n    <div class="footer-container">\n        <a href="//github.com/Shakhzod235">\n            <img class="github-logo" alt="github-logo" src="./images/github-mark.png"/>\n        </a>\n        <p>26.07.2023</p>\n    </div>\n\n        </footer>\n    `,a=document.createElement("div");a.innerHTML=e,document.querySelector("#root")?.appendChild(a)};const d=async e=>{document.querySelector(`#car-start-${e}`).disabled=!0;const{velocity:t,distance:a}=await(0,n.startEngine)(e),r=Math.round(a/t);(0,o.animateCar)(e,r)},u=async()=>{document.querySelector(".garage-cars").innerHTML=await(0,t.renderGarage)()},m=async()=>{document.querySelector(".winners").innerHTML=await i()};t.listen=()=>{document.body.addEventListener("click",(async e=>{if(e.target.classList.contains("car-start-btn")){const t=+e.target.id.split("car-start-")[1];document.querySelector(`#car-stop-${t}`).disabled=!1,await d(t)}if(e.target.classList.contains("car-stop-btn")){const t=+e.target.id.split("car-stop-")[1];document.querySelector(`#car-start-${t}`).disabled=!1,document.querySelector(`#car-stop-${t}`).disabled=!0,await(async e=>{document.querySelector(`#car-stop-${e}`).disabled=!0,(0,o.returnCarToBase)(e)})(t)}if(e.target.classList.contains("race-btn")){await(0,o.race)(d);let e=0,t=JSON.parse(localStorage.getItem("times"));const a=document.querySelector(".reset-btn"),r=setInterval((async()=>{if(t=JSON.parse(localStorage.getItem("times")),t.length){t=JSON.parse(localStorage.getItem("times"));const o=JSON.parse(localStorage.getItem("carTime"));clearInterval(r),e=t[0];const c=await(0,n.getCar)(e),s=document.querySelector(".msg"),l=document.querySelector(".message");document.body.style.overflow="hidden",s.style.display="flex",l.innerHTML=`${c.name} was first. Time: ${o/1e3}s`;let{wins:i}=await(0,n.getWinner)(e);i?await(0,n.updateWinner)(e,{id:e,wins:i+1,time:o}):await(0,n.createWinner)({id:e,wins:1,time:o}),m(),a.disabled=!1}}),100),c=document.querySelector(".race-btn");Array.from(document.querySelectorAll(".car-stop-btn")).forEach((e=>{e.disabled=!1})),c.disabled=!0,document.querySelector("#create-name").disabled=!0,document.querySelector("#create-color").disabled=!0,document.querySelector(".create-btn").disabled=!0,document.querySelector(".generate-btn").disabled=!0}if(e.target.classList.contains("winner-reset")&&(document.body.style.overflow="",document.querySelector(".msg").style.display="none",localStorage.setItem("times",JSON.stringify([]))),e.target.classList.contains("reset-btn")){s=Number(localStorage.getItem("page"));const e=(await(0,n.getCars)(s)).items.map((e=>e.id));document.querySelector("#create-name").disabled=!1,document.querySelector("#create-color").disabled=!1,document.querySelector(".create-btn").disabled=!1,document.querySelector(".generate-btn").disabled=!1,document.querySelector(".race-btn").disabled=!1,e.forEach((async e=>{(0,o.returnCarToBase)(e),document.querySelector(`#car-start-${e}`).disabled=!1,document.querySelector(`#car-stop-${e}`).disabled=!0,document.querySelector(".race-btn").disabled=!1,document.querySelector(".reset-btn").disabled=!0}))}if(e.target.classList.contains("winners-btn")&&(document.querySelector(".winners")?.classList.add("active"),document.querySelector(".winners-btn").classList.add("active"),document.querySelector(".garage-btn").classList.remove("active"),document.querySelector("body").style.overflow="hidden"),e.target.classList.contains("garage-btn")&&(document.querySelector(".winners")?.classList.remove("active"),document.querySelector(".winners-btn").classList.remove("active"),document.querySelector(".garage-btn").classList.add("active"),document.querySelector("body").style.overflow=""),e.target.classList.contains("create-btn")){e.preventDefault();const t={name:document.querySelector("#create-name").value,color:document.querySelector("#create-color").value};s=Number(localStorage.getItem("page")),0===s&&localStorage.setItem("page","1"),await(0,n.createCar)(t),document.querySelector("#create-name").value="",document.querySelector("#create-color").value="#ffffff",await(0,n.getCars)(),await u()}if(e.target.classList.contains("car-remove-btn")){e.preventDefault(),s=Number(localStorage.getItem("page")),document.querySelectorAll(".car-item").length-1==0&&localStorage.setItem("page",""+(s-1));const t=+e.target.id.split("remove-car-")[1];await(0,n.removeWinner)(t),m(),await(0,n.removeCar)(t),await(0,n.getCars)(),await u()}if(e.target.classList.contains("car-select-btn")){e.preventDefault();const t=+e.target.id.split("select-car-")[1];c=t;const a=(0,n.getCar)(t);document.querySelector("#update-name").disabled=!1,document.querySelector("#update-color").disabled=!1,document.querySelector(".update-btn").disabled=!1,document.querySelector("#update-name").value=(await a).name,document.querySelector("#update-color").value=(await a).color}if(e.target.classList.contains("car-select-btn")||e.target.classList.contains("update-btn")||e.target.classList.contains("input-update")||e.target.classList.contains("color-update")||(c=null,document.querySelector(".update-btn").disabled=!0,document.querySelector("#update-name").disabled=!0,document.querySelector("#update-color").disabled=!0,document.querySelector("#update-name").value="",document.querySelector("#update-color").value="#ffffff"),e.target.classList.contains("update-btn")&&(e.preventDefault(),null!==c)){const e={name:document.querySelector("#update-name").value,color:document.querySelector("#update-color").value};await(0,n.updateCar)(c,e),await(0,n.getCars)(),await u(),c=null,document.querySelector(".update-btn").disabled=!0,document.querySelector("#update-name").disabled=!0,document.querySelector("#update-color").disabled=!0,document.querySelector("#update-name").value="",document.querySelector("#update-color").value="#ffffff"}if(e.target.classList.contains("next-btn")){e.preventDefault();const t=document.querySelector("#prev"),a=document.querySelector("#next");s=Number(localStorage.getItem("page"));const r=(await(0,n.getCars)(s)).count||0,o=(await(0,n.getCars)(s)).items;localStorage.setItem("page",`${s+1}`),s=Number(localStorage.getItem("page")),s>0&&(t.disabled=!1),(r<=7*s||o.length<7)&&(a.disabled=!0),await u()}if(e.target.classList.contains("prev-btn")){e.preventDefault();const t=document.querySelector("#prev");document.querySelector("#next").disabled=!1,s=Number(localStorage.getItem("page")),(await(0,n.getCars)(s)).count,localStorage.setItem("page",""+(s-1)),s=Number(localStorage.getItem("page")),1===s&&(t.disabled=!0),await u()}if(e.target.classList.contains("generate-btn")){e.target.disabled=!0;const t=(0,o.generateRandomCars)();await Promise.all(t.map((async e=>await(0,n.createCar)(e)))),await u(),e.target.disabled=!1}if(e.target.classList.contains("next-table")){e.preventDefault();const t=document.querySelector(".prev-table"),a=document.querySelector(".next-table");l=Number(localStorage.getItem("tablePage"));const r=(await(0,n.getWinners)(l)).count||0,o=(await(0,n.getWinners)(l)).items;localStorage.setItem("tablePage",`${l+1}`),l=Number(localStorage.getItem("tablePage")),l>0&&(t.disabled=!1),(r<=10*l||o.length<10)&&(a.disabled=!0),await m()}if(e.target.classList.contains("prev-table")){e.preventDefault();const t=document.querySelector(".prev-table");document.querySelector(".next-table").disabled=!1,l=Number(localStorage.getItem("tablePage")),(await(0,n.getWinners)(l)).count,localStorage.setItem("tablePage",""+(l-1)),l=Number(localStorage.getItem("tablePage")),1===l&&(t.disabled=!0),await m()}e.target.classList.contains("winner-sort")&&e.target?.addEventListener("click",(()=>{localStorage.setItem("sort","wins");let e=localStorage.getItem("order");localStorage.setItem("order","ASC"===e?"DESC":"ASC"),m()})),e.target.classList.contains("id-sort")&&e.target?.addEventListener("click",(()=>{localStorage.setItem("sort","id");let e=localStorage.getItem("order");localStorage.setItem("order","ASC"===e?"DESC":"ASC"),m()})),e.target.classList.contains("time-sort")&&e.target?.addEventListener("click",(()=>{localStorage.setItem("sort","time");let e=localStorage.getItem("order");localStorage.setItem("order","ASC"===e?"DESC":"ASC"),m()}))}))}},724:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomCars=t.race=t.returnCarToBase=t.animateCar=t.goToWinners=void 0;const n=a(776);t.goToWinners=()=>{document.querySelector(".winners")?.classList.add("active")},t.animateCar=async(e,t)=>{const a=document.querySelector(`#car-${e}`);a.style.animationDuration=`${t}ms`,a.style.animationFillMode="forwards",a.style.animationTimingFunction="linear",a.style.animationPlayState="running",a.style.animationIterationCount="1",a.style.animationName="drive",a.onanimationend=function(){const a=JSON.parse(localStorage.getItem("times"));a.length||(a.push(e),localStorage.setItem("times",JSON.stringify(a)),localStorage.setItem("carTime",JSON.stringify(t)))};const{success:r}=await(0,n.drive)(e);r||(a.style.animationPlayState="paused")},t.returnCarToBase=async e=>{await(0,n.stopEngine)(e);const t=document.querySelector(`#car-${e}`);t.removeAttribute("style"),t.onanimationend=null},t.race=async e=>{let t=Number(localStorage.getItem("page"));(await(0,n.getCars)(t)).items.map((({id:t})=>e(t)))};const r=["BMW","Chevrolet","Toyota","Lada","Mercedes","Porsche"],o=["Gentra","Malibu","Matiz","X6","Vesta","911","Camry"],c=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};t.generateRandomCars=(e=100)=>new Array(e).fill(1).map((e=>({name:`${r[Math.floor(Math.random()*r.length)]} ${o[Math.floor(Math.random()*o.length)]}`,color:c()})))}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}(()=>{const e=a(126);!async function(){await(0,e.render)(),await(0,e.renderGarage)(),(0,e.listen)()}()})()})();